(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,r){e.exports=r(207)},122:function(e,t,r){},124:function(e,t,r){},207:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"addFilter",function(){return J}),r.d(n,"trackAutocompleteClickThrough",function(){return Y}),r.d(n,"clearFilters",function(){return G}),r.d(n,"removeFilter",function(){return K}),r.d(n,"reset",function(){return X}),r.d(n,"setCurrent",function(){return Z}),r.d(n,"setFilter",function(){return $}),r.d(n,"setResultsPerPage",function(){return ee}),r.d(n,"setSearchTerm",function(){return re}),r.d(n,"setSort",function(){return ne}),r.d(n,"trackClickThrough",function(){return oe}),r.d(n,"a11yNotify",function(){return le});var o=r(1),a=r.n(o),c=r(102),s=r.n(c),i=(r(122),r(23)),u=r.n(i),l=r(40),p=r(3),f=r.n(p),h=r(47),d=r.n(h),g=r(2),m=r.n(g),y=r(48),b=r.n(y),v=r(16),O=r.n(v),S=r(22),P=r.n(S),R=r(7),j=r.n(R),T=r(34),w=r.n(T),k=r(114);r(69);function C(e){return Array.isArray(e)?e[e.length-1]:e}function N(e){return function(e){if(!function(e){return!isNaN(e)}(e))return;return parseInt(e,10)}(C(e))}function E(e){return e.filters}function A(e){return N(e.current)}function q(e){return C(e.q)}function _(e){var t=C(e["sort-field"]),r=C(e["sort-direction"]);return t?[t,r]:[]}function D(e){return N(e.size)}var F=function(){function e(){O()(this,e),this.history=Object(k.a)(),this.lastPushSearchString=""}return P()(e,[{key:"getStateFromURL",value:function(){return function(e){var t={current:A(e),filters:E(e),searchTerm:q(e),resultsPerPage:D(e),sortField:_(e)[0],sortDirection:_(e)[1]};return Object.keys(t).reduce(function(e,r){var n=t[r];return n&&(e[r]=n),e},{})}({})}},{key:"pushStateToURL",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).replaceUrl}},{key:"onURLStateChange",value:function(e){var t=this;this.unlisten=this.history.listen(function(e){"?".concat(t.lastPushSearchString)!==e.search&&(t.lastPushSearchString="")})}},{key:"tearDown",value:function(){this.unlisten()}}]),e}(),x=function(){function e(){O()(this,e),j()(this,"requestSequence",0),j()(this,"lastCompleted",0)}return P()(e,[{key:"next",value:function(){return++this.requestSequence}},{key:"isOldRequest",value:function(e){return e<this.lastCompleted}},{key:"completed",value:function(e){this.lastCompleted=e}}]),e}();function I(e,t){var r,n=function(){var n=arguments;clearTimeout(r),r=setTimeout(function(){e.apply(null,n)},t)};return n.cancel=function(){r&&(clearTimeout(r),r=null)},n}var U=function(){function e(){O()(this,e),j()(this,"debounceCache",{})}return P()(e,[{key:"runWithDebounce",value:function(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];if(!e)return r.apply(void 0,o);var c="".concat(t,"|").concat(e.toString()),s=this.debounceCache[c];s||(this.debounceCache[c]=I(r,e),s=this.debounceCache[c]),s.apply(void 0,o)}},{key:"cancelByName",value:function(e){Object.entries(this.debounceCache).filter(function(t){return w()(t,1)[0].startsWith("".concat(e,"|"))}).forEach(function(e){var t=w()(e,2);t[0];return t[1].cancel()})}}]),e}();U.debounce=function(e,t){return I(t,e)};var L=U,M=r(33),Q=r.n(M),V=r(103),B=r.n(V);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){j()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e,t){return!!(e&&e.name&&t&&t.name&&e.name===t.name)||B()(e,t,{strict:!0})}function J(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";this.debug&&(r=console).log.apply(r,["Search UI: Action","addFilter"].concat(Array.prototype.slice.call(arguments)));var o=this.state.filters,a=o.find(function(t){return t.field===e&&t.type===n})||{},c=o.filter(function(t){return t.field!==e||t.type!==n})||[],s=a.values||[],i=s.find(function(e){return z(e,t)})?s:s.concat(t);this._updateSearchResults({current:1,filters:[].concat(Q()(c),[{field:e,values:i,type:n}])})}function Y(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.debug&&(t=console).log.apply(t,["Search UI: Action","trackAutocompleteClickThrough"].concat(Array.prototype.slice.call(arguments)));var n=this.state,o=n.autocompletedResultsRequestId,a=n.searchTerm;this.events.autocompleteResultClick({query:a,documentId:e,requestId:o,tags:r})}function G(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.debug&&(e=console).log.apply(e,["Search UI: Action","clearFilters"].concat(Array.prototype.slice.call(arguments)));var r=this.state.filters.filter(function(e){var r=e.field;return t.includes(r)});this._updateSearchResults({current:1,filters:r})}function K(e,t,r){var n;this.debug&&(n=console).log.apply(n,["Search UI: Action","removeFilter"].concat(Array.prototype.slice.call(arguments)));var o=this.state.filters,a=o;a=!t&&r?o.filter(function(t){return!(t.field===e&&t.type===r)}):t?function(e,t,r,n){return e.reduce(function(e,o){var a=o.field,c=o.values,s=o.type,i=b()(o,["field","values","type"]);if(a===t&&(!n||s===n)){var u=c.filter(function(e){return!z(e,r)});return u.length>0?e.concat(W({field:a,values:u,type:s},i)):e}return e.concat(o)},[])}(o,e,t,r):o.filter(function(t){return t.field!==e}),this._updateSearchResults({current:1,filters:a})}function X(){var e;this.debug&&(e=console).log.apply(e,["Search UI: Action","reset"].concat(Array.prototype.slice.call(arguments))),this._setState(this.startingState),this.trackUrlState&&this.URLManager.pushStateToURL(this.state)}function Z(e){var t;this.debug&&(t=console).log.apply(t,["Search UI: Action","setCurrent"].concat(Array.prototype.slice.call(arguments))),this._updateSearchResults({current:e})}function $(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";this.debug&&(r=console).log.apply(r,["Search UI: Action","setFilter"].concat(Array.prototype.slice.call(arguments)));var o=this.state.filters;o=o.filter(function(t){return t.field!==e||t.type!==n}),this._updateSearchResults({current:1,filters:[].concat(Q()(o),[{field:e,values:[t],type:n}])})}function ee(e){var t;this.debug&&(t=console).log.apply(t,["Search UI: Action","setResultsPerPage"].concat(Array.prototype.slice.call(arguments))),this._updateSearchResults({current:1,resultsPerPage:e})}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function re(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.autocompleteMinimumCharacters,o=void 0===n?0:n,a=r.autocompleteResults,c=void 0!==a&&a,s=r.autocompleteSuggestions,i=void 0!==s&&s,u=r.shouldClearFilters,l=void 0===u||u,p=r.refresh,f=void 0===p||p,h=r.debounce,d=void 0===h?0:h;this.debug&&(t=console).log.apply(t,["Search UI: Action","setSearchTerm"].concat(Array.prototype.slice.call(arguments))),this._setState({searchTerm:e}),f&&this.debounceManager.runWithDebounce(d,"_updateSearchResults",this._updateSearchResults,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){j()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({current:1},l&&{filters:[]})),(c||i)&&e.length>=o&&this.debounceManager.runWithDebounce(d,"_updateAutocomplete",this._updateAutocomplete,e,{autocompleteResults:c,autocompleteSuggestions:i})}function ne(e,t){var r;this.debug&&(r=console).log.apply(r,["Search UI: Action","setSort"].concat(Array.prototype.slice.call(arguments))),this._updateSearchResults({current:1,sortDirection:t,sortField:e})}function oe(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.debug&&(t=console).log.apply(t,["Search UI: Action","trackClickThrough"].concat(Array.prototype.slice.call(arguments)));var n=this.state,o=n.requestId,a=n.searchTerm;this.events.resultClick({query:a,documentId:e,requestId:o,tags:r})}var ae="search-ui-screen-reader-notifications",ce="undefined"!==typeof document,se=function(){if(ce){var e=document.getElementById(ae);return e||((e=document.createElement("div")).id=ae,e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.margin="-1px",e.style.padding="0",e.style.border="0",e.style.overflow="hidden",e.style.clip="rect(0 0 0 0)",document.body.appendChild(e),e)}},ie=function(e){ce&&(se().textContent=e)},ue={searchResults:function(e){var t=e.start,r=e.end,n=e.totalResults,o=e.searchTerm,a="Showing ".concat(t," to ").concat(r," results out of ").concat(n);return o&&(a+=', searching for "'.concat(o,'".')),a}};function le(e,t){if(this.hasA11yNotifications){var r=this.a11yNotificationMessages[e];if(r){var n=r(t);ie(n),this.debug&&console.log("Search UI: Action","a11yNotify",{messageFunc:e,messageArgs:t,message:n})}else{var o='Could not find corresponding message function in a11yNotificationMessages: "'.concat(e,'"');console.warn("Action","a11yNotify",o)}}}function pe(e,t,r){if(r){if(t){var n=t[e].bind(t);return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r.apply(void 0,t.concat([n]))}}return r}return t&&t[e]?t[e].bind(t):function(){throw"No ".concat(e," handler provided and no Connector provided. You must configure one or the other.")}}var fe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.apiConnector,n=t.onSearch,o=t.onAutocomplete,a=t.onResultClick,c=t.onAutocompleteResultClick;O()(this,e),this.search=pe("onSearch",r,n),this.autocomplete=pe("onAutocomplete",r,o),this.resultClick=pe("onResultClick",r,a),this.autocompleteResultClick=pe("onAutocompleteResultClick",r,c)};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach(function(t){j()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ge(e){return{current:e.current,filters:e.filters,resultsPerPage:e.resultsPerPage,searchTerm:e.searchTerm,sortDirection:e.sortDirection,sortField:e.sortField}}var me={current:1,filters:[],resultsPerPage:20,searchTerm:"",sortDirection:"",sortField:"",autocompletedResults:[],autocompletedResultsRequestId:"",autocompletedSuggestions:{},autocompletedSuggestionsRequestId:"",error:"",isLoading:!1,facets:{},requestId:"",results:[],resultSearchTerm:"",totalPages:0,totalResults:0,pagingStart:0,pagingEnd:0,wasSearched:!1};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.entries(e).reduce(function(e,n){var o=w()(n,2),a=o[0],c=o[1];return t[a]&&"function"===typeof t[a]&&!t[a]({filters:r})?e:(e[a]=c,e)},{})}var be=function(){function e(t){var r,o=this,a=t.apiConnector,c=t.autocompleteQuery,s=void 0===c?{}:c,i=t.debug,u=t.initialState,l=t.onSearch,p=t.onAutocomplete,f=t.onResultClick,h=t.onAutocompleteResultClick,d=t.searchQuery,g=void 0===d?{}:d,m=t.trackUrlState,y=void 0===m||m,v=t.urlPushDebounceLength,S=void 0===v?500:v,P=t.hasA11yNotifications,R=void 0!==P&&P,T=t.a11yNotificationMessages,k=void 0===T?{}:T,C=t.alwaysSearchOnInitialLoad,N=void 0!==C&&C;O()(this,e),j()(this,"state",me),j()(this,"_updateAutocomplete",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.autocompleteResults,n=t.autocompleteSuggestions,a=o.autocompleteRequestSequencer.next(),c=de(de({},r&&{results:o.autocompleteQuery.results||{}}),n&&{suggestions:o.autocompleteQuery.suggestions||{}});return o.events.autocomplete({searchTerm:e},c).then(function(e){o.autocompleteRequestSequencer.isOldRequest(a)||(o.autocompleteRequestSequencer.completed(a),o._setState(e))})}),j()(this,"_updateSearchResults",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipPushToUrl,n=void 0!==r&&r,a=t.replaceUrl,c=void 0!==a&&a,s=de(de({},o.state),e),i=s.current,u=s.filters,l=s.resultsPerPage,p=s.searchTerm,f=s.sortDirection,h=s.sortField;o.debounceManager.cancelByName("_updateSearchResults"),o._setState({current:i,error:"",filters:u,resultsPerPage:l,searchTerm:p,sortDirection:f,sortField:h}),o._makeSearchRequest({skipPushToUrl:n,replaceUrl:c})}),j()(this,"_makeSearchRequest",L.debounce(0,function(e){var t=e.skipPushToUrl,r=e.replaceUrl,n=o.state,a=n.current,c=n.filters,s=n.resultsPerPage,i=n.searchTerm,u=n.sortDirection,l=n.sortField;o._setState({isLoading:!0});var p,f,h=o.searchRequestSequencer.next(),d=o.searchQuery,g=(d.filters,d.conditionalFacets),m=de(de({},b()(d,["filters","conditionalFacets"])),{},{facets:ye(o.searchQuery.facets,g,c)}),y=de(de({},ge(o.state)),{},{filters:(p=c,f=o.searchQuery.filters,f?f.reduce(function(e,t){return e.find(function(e){return e.type===t.type&&e.field===t.field})?e:[].concat(Q()(e),[t])},p):p)});return o.events.search(y,m).then(function(e){if(!o.searchRequestSequencer.isOldRequest(h)){o.searchRequestSequencer.completed(h);var n=e.totalResults,p=0===n?0:(a-1)*s+1,f=n<=p+s?n:p+s-1;if(o._setState(de(de({isLoading:!1,resultSearchTerm:i,pagingStart:p,pagingEnd:f},e),{},{wasSearched:!0})),o.hasA11yNotifications){var d={start:p,end:f,totalResults:n,searchTerm:i};o.actions.a11yNotify("searchResults",d)}!t&&o.trackUrlState&&o.debounceManager.runWithDebounce(o.urlPushDebounceLength,"pushStateToURL",o.URLManager.pushStateToURL.bind(o.URLManager),{current:a,filters:c,resultsPerPage:s,searchTerm:i,sortDirection:u,sortField:l},{replaceUrl:r})}},function(e){o._setState({error:"An unexpected error occurred: ".concat(e.message)})})})),this.actions=Object.entries(n).reduce(function(e,t){var r=w()(t,2),n=r[0],a=r[1];return de(de({},e),{},j()({},n,a.bind(o)))},{}),Object.assign(this,this.actions),this.events=new fe({apiConnector:a,onSearch:l,onAutocomplete:p,onResultClick:f,onAutocompleteResultClick:h}),this.debug=i,this.debug&&(console.warn("Search UI Debugging is enabled. This should be turned off in production deployments."),window.searchUI=this),this.autocompleteRequestSequencer=new x,this.searchRequestSequencer=new x,this.debounceManager=new L,this.autocompleteQuery=s,this.searchQuery=g,this.subscriptions=[],this.trackUrlState=y,this.urlPushDebounceLength=S,this.alwaysSearchOnInitialLoad=N,y?(this.URLManager=new F,r=this.URLManager.getStateFromURL(),this.URLManager.onURLStateChange(function(e){o._updateSearchResults(de(de({},me),e),{skipPushToUrl:!0})})):r={},this.hasA11yNotifications=R,this.hasA11yNotifications&&se(),this.a11yNotificationMessages=de(de({},ue),k),this.startingState=de(de({},this.state),u);var E=ge(de(de({},this.startingState),r));this.state=de(de({},this.state),E),(E.searchTerm||E.filters.length>0||this.alwaysSearchOnInitialLoad)&&this._updateSearchResults(E,{replaceUrl:!0})}return P()(e,[{key:"_setState",value:function(e){var t=de(de({},this.state),e);this.debug&&console.log("Search UI: State Update",e,t),this.state=t,this.subscriptions.forEach(function(e){return e(t)})}},{key:"setSearchQuery",value:function(e){this.searchQuery=e,this._updateSearchResults()}},{key:"setAutocompleteQuery",value:function(e){this.autocompleteQuery=e}},{key:"subscribeToStateChanges",value:function(e){this.subscriptions.push(e)}},{key:"unsubscribeToStateChanges",value:function(e){this.subscriptions=this.subscriptions.filter(function(t){return t!==e})}},{key:"tearDown",value:function(){this.subscriptions=[],this.URLManager&&this.URLManager.tearDown()}},{key:"getActions",value:function(){return this.actions}},{key:"getState",value:function(){return de({},this.state)}}]),e}(),ve=a.a.createContext(),Oe={moreFilters:function(e){var t=e.visibleOptionsCount,r=e.showingAll?"All ":"";return r+="".concat(t," options shown.")}};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Re=function(e){var t=e.children,r=e.config,n=void 0===r?{}:r,c=e.driver,s=Object(o.useState)(null),i=d()(s,2),u=i[0],l=i[1];return Object(o.useEffect)(function(){var e=c||new be(Pe(Pe({},n),{},{a11yNotificationMessages:Pe(Pe({},Oe),n.a11yNotificationMessages)}));return l(e),function(){e.tearDown()}},[]),Object(o.useEffect)(function(){u&&u.setSearchQuery(n.searchQuery)},[n.searchQuery]),Object(o.useEffect)(function(){u&&u.setAutocompleteQuery(n.autocompleteQuery)},[n.autocompleteQuery]),u?a.a.createElement(ve.Provider,{value:{driver:u}},t):null};Re.propTypes={children:m.a.node.isRequired,config:m.a.object,driver:m.a.object};var je=Re,Te=r(70),we=r.n(Te),ke=r(8),Ce=r.n(ke),Ne=r(9),Ee=r.n(Ne),Ae=r(13),qe=r.n(Ae),_e=r(10),De=r.n(_e),Fe=r(11),xe=r.n(Fe),Ie=r(4),Ue=r.n(Ie);function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ve(e,t,r){return(r.mapContextToProps||t)(e,r)||{}}function Be(e){if(!e)throw"withSearch requires a function to be provided which returns an object with at least one value.";return function(t){var r=function(r){De()(o,r);var n=Le(o);function o(t,r){var a;return Ce()(this,o),a=n.call(this),f()(qe()(a),"subscription",function(t){a.unmounted||a.setState(function(r){return Ve(Qe(Qe({},r),t),e,a.props)})}),a.state=Qe({},Ve(function(e){return Qe(Qe({},e.driver.getState()),e.driver.getActions())}(r),e,t)),r.driver.subscribeToStateChanges(a.subscription),a}return Ee()(o,[{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.context.driver.unsubscribeToStateChanges(this.subscription)}},{key:"render",value:function(){var e=we()({},this.props);return a.a.createElement(t,we()({},this.state,e))}}]),o}(a.a.PureComponent);return r.contextType=ve,r}}function He(e){var t=e.mapContextToProps,r=e.children,n=Be(t)(function(e){return r(e)});return a.a.createElement(n,null)}He.propTypes={mapContextToProps:m.a.func,children:m.a.func.isRequired};var We=He,ze=r(12),Je=r.n(ze),Ye=r(6),Ge=r.n(Ye),Ke=r(5),Xe=r.n(Ke),Ze=r(0),$e=r.n(Ze);function et(e){return Array.isArray(e)?e.filter(function(e){return e}).join(" "):e}function tt(e,t){return t?e?"".concat(e," ").concat(et(t)):et(t)||"":e||""}function rt(e){var t=e.children,r=e.className,n=e.error,o=Xe()(e,["children","className","error"]);return n?a.a.createElement("div",Ge()({className:tt("sui-search-error",r)},o),n):t}rt.propTypes={children:$e.a.node.isRequired,error:$e.a.string.isRequired,className:$e.a.string};var nt=rt;function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}var ct=function(e){De()(r,e);var t=at(r);function r(){return Ce()(this,r),t.apply(this,arguments)}return Ee()(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.error,o=e.view,a=Je()(e,["children","className","error","view"]);return(o||nt)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:r,children:t,error:n},a))}}]),r}(o.Component);f()(ct,"propTypes",{children:m.a.node.isRequired,className:m.a.string,view:m.a.func,error:m.a.string.isRequired});var st=Be(function(e){return{error:e.error}})(ct),it=r(15),ut=r.n(it),lt=r(112),pt=$e.a.oneOfType([$e.a.string,$e.a.number,$e.a.bool,$e.a.arrayOf($e.a.oneOfType([$e.a.string,$e.a.number,$e.a.bool]))]),ft=$e.a.shape({raw:pt,snippet:$e.a.string});var ht=$e.a.objectOf($e.a.oneOfType([$e.a.any,ft])),dt=$e.a.shape({suggestion:$e.a.string,highlight:$e.a.string,data:$e.a.object}),gt=r(108),mt=r.n(gt);function yt(e,t){return t.sectionTitle?t.sectionTitle:t[e]&&t[e].sectionTitle?t[e].sectionTitle:void 0}function bt(e){var t=e.autocompleteResults,r=e.autocompletedResults,n=e.autocompleteSuggestions,o=e.autocompletedSuggestions,c=e.className,s=e.getItemProps,i=e.getMenuProps,u=0;return a.a.createElement("div",i({className:tt("sui-search-box__autocomplete-container",c)}),a.a.createElement("div",null,!!n&&Object.entries(o).map(function(e){var t=mt()(e,2),r=t[0],o=t[1];return a.a.createElement(a.a.Fragment,{key:r},yt(r,n)&&o.length>0&&a.a.createElement("div",{className:"sui-search-box__section-title"},yt(r,n)),o.length>0&&a.a.createElement("ul",{className:"sui-search-box__suggestion-list"},o.map(function(e){return u++,a.a.createElement("li",s({key:e.suggestion||e.highlight,index:u-1,item:e}),e.highlight?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlight}}):a.a.createElement("span",null,e.suggestion))})))}),!!t&&!!r&&r.length>0&&t.sectionTitle&&a.a.createElement("div",{className:"sui-search-box__section-title"},t.sectionTitle),!!t&&!!r&&r.length>0&&a.a.createElement("ul",{className:"sui-search-box__results-list"},r.map(function(e){u++;var r=function(e,t){if(e[t]&&e[t].snippet)return e[t].snippet}(e,t.titleField),n=function(e,t){if(e[t]&&e[t].raw)return e[t].raw}(e,t.titleField);return a.a.createElement("li",s({key:e.id.raw,index:u-1,item:e}),r?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}}):a.a.createElement("span",null,n))}))))}bt.propTypes={allAutocompletedItemsCount:$e.a.number.isRequired,autocompleteResults:$e.a.oneOfType([$e.a.bool,$e.a.shape({titleField:$e.a.string.isRequired,urlField:$e.a.string.isRequired,linkTarget:$e.a.string,sectionTitle:$e.a.string})]),autocompletedResults:$e.a.arrayOf(ht).isRequired,autocompletedSuggestions:$e.a.objectOf($e.a.arrayOf(dt)).isRequired,autocompletedSuggestionsCount:$e.a.number.isRequired,autocompleteSuggestions:$e.a.oneOfType([$e.a.bool,$e.a.exact({sectionTitle:$e.a.string}),$e.a.objectOf($e.a.exact({sectionTitle:$e.a.string}))]),getItemProps:$e.a.func.isRequired,getMenuProps:$e.a.func.isRequired,className:$e.a.string};var vt=bt;function Ot(e){var t=e.getAutocomplete,r=e.getButtonProps,n=e.getInputProps;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"sui-search-box__wrapper"}," ",a.a.createElement("input",n()),t()),a.a.createElement("input",r()))}Ot.propTypes={getAutocomplete:$e.a.func.isRequired,getButtonProps:$e.a.func.isRequired,getInputProps:$e.a.func.isRequired};var St=Ot;function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach(function(t){ut()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jt(e){var t=e.className,r=e.allAutocompletedItemsCount,n=e.autocompleteView,o=e.isFocused,c=e.inputProps,s=void 0===c?{}:c,i=e.inputView,u=e.onChange,l=e.onSelectAutocomplete,p=e.onSubmit,f=e.useAutocomplete,h=e.value,d=(e.autocompletedResults,e.autocompletedSuggestions,e.autocompletedSuggestionsCount,e.completeSuggestion,e.notifyAutocompleteSelected,Xe()(e,["className","allAutocompletedItemsCount","autocompleteView","isFocused","inputProps","inputView","onChange","onSelectAutocomplete","onSubmit","useAutocomplete","value","autocompletedResults","autocompletedSuggestions","autocompletedSuggestionsCount","completeSuggestion","notifyAutocompleteSelected"])),g=o?"focus":"",m=n||vt,y=i||St;return a.a.createElement(lt.a,Ge()({inputValue:h,onChange:l,onInputValueChange:function(e){h!==e&&u(e)},itemToString:function(){return h}},d),function(n){var o=n.closeMenu,c=n.getInputProps,i=n.isOpen,u=!0===i?" autocomplete":"";return a.a.createElement("form",{onSubmit:function(e){o(),p(e)}},a.a.createElement("div",{className:tt("sui-search-box",t)+u},a.a.createElement(y,Ge()({},n,{getInputProps:function(e){var t=e||{},r=t.className,n=Xe()(t,["className"]);return c(Rt(Rt({placeholder:"Search"},s),{},{className:tt("mdl-textfield__input sui-search-box__text-input",[s.className,r,g])},n))},getButtonProps:function(e){var t=e||{},r=t.className,n=Xe()(t,["className"]);return Rt({type:"submit",value:"Search",className:tt("mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent sui-search-box__submit",r)},n)},getAutocomplete:function(){return f&&i&&r>0?a.a.createElement(m,Ge()({},e,n)):null}}))))})}jt.propTypes={allAutocompletedItemsCount:$e.a.number.isRequired,autocompletedResults:$e.a.arrayOf(ht).isRequired,autocompletedSuggestions:$e.a.objectOf($e.a.arrayOf(dt)).isRequired,autocompletedSuggestionsCount:$e.a.number.isRequired,completeSuggestion:$e.a.func.isRequired,notifyAutocompleteSelected:$e.a.func.isRequired,onChange:$e.a.func.isRequired,onSubmit:$e.a.func.isRequired,value:$e.a.string.isRequired,autocompleteResults:$e.a.oneOfType([$e.a.bool,$e.a.shape({titleField:$e.a.string.isRequired,urlField:$e.a.string.isRequired,linkTarget:$e.a.string,sectionTitle:$e.a.string})]),autocompleteView:$e.a.func,autocompleteSuggestions:$e.a.oneOfType([$e.a.bool,$e.a.exact({sectionTitle:$e.a.string}),$e.a.objectOf($e.a.exact({sectionTitle:$e.a.string}))]),className:$e.a.string,inputProps:$e.a.object,inputView:$e.a.func,isFocused:$e.a.bool,useAutocomplete:$e.a.bool,onSelectAutocomplete:$e.a.func};var Tt=jt,wt=m.a.oneOfType([m.a.string,m.a.number,m.a.bool,m.a.arrayOf(m.a.oneOfType([m.a.string,m.a.number,m.a.bool]))]),kt=m.a.shape({raw:wt,snippet:m.a.string});var Ct=m.a.objectOf(m.a.oneOfType([m.a.any,kt])),Nt=m.a.shape({suggestion:m.a.string,highlight:m.a.string,data:m.a.object});function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}var _t=function(e){De()(r,e);var t=qt(r);function r(){var e;Ce()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),f()(qe()(e),"state",{isFocused:!1}),f()(qe()(e),"handleFocus",function(){e.setState({isFocused:!0})}),f()(qe()(e),"handleBlur",function(){e.setState({isFocused:!1})}),f()(qe()(e),"completeSuggestion",function(t){var r=e.props,n=r.shouldClearFilters;(0,r.setSearchTerm)(t,{shouldClearFilters:n})}),f()(qe()(e),"handleSubmit",function(t){var r=e.props,n=r.shouldClearFilters,o=r.searchTerm,a=r.setSearchTerm;t.preventDefault(),a(o,{shouldClearFilters:n})}),f()(qe()(e),"handleChange",function(t){var r=e.props,n=r.autocompleteMinimumCharacters,o=r.autocompleteResults,a=r.autocompleteSuggestions,c=r.shouldClearFilters,s=r.searchAsYouType,i=r.setSearchTerm,u=r.debounceLength;i(t,At(At({autocompleteMinimumCharacters:n},(o||a||s)&&{debounce:u||200}),{},{shouldClearFilters:c,refresh:!!s,autocompleteResults:!!o,autocompleteSuggestions:!!a}))}),f()(qe()(e),"handleNotifyAutocompleteSelected",function(t){var r=e.props,n=r.autocompleteResults,o=r.trackAutocompleteClickThrough;if(n&&!1!==n.shouldTrackClickThrough&&!t.suggestion){var a=n.clickThroughTags,c=void 0===a?[]:a;o(t.id.raw,c)}}),f()(qe()(e),"defaultOnSelectAutocomplete",function(t){var r=e.props.autocompleteResults;if(e.handleNotifyAutocompleteSelected(t),t.suggestion)e.completeSuggestion(t.suggestion);else{var n=t[r.urlField]?t[r.urlField].raw:"";if(n){var o=r.linkTarget||"_self";window.open(n,o)}}}),e}return Ee()(r,[{key:"render",value:function(){var e,t=this,r=this.state.isFocused,n=this.props,o=n.autocompleteMinimumCharacters,a=n.autocompleteResults,c=n.autocompleteSuggestions,s=n.autocompletedResults,i=n.autocompletedSuggestions,u=n.className,l=n.autocompleteView,p=n.inputProps,f=n.inputView,h=n.onSelectAutocomplete,g=n.onSubmit,m=n.searchTerm,y=n.view,b=Je()(n,["autocompleteMinimumCharacters","autocompleteResults","autocompleteSuggestions","autocompletedResults","autocompletedSuggestions","className","autocompleteView","inputProps","inputView","onSelectAutocomplete","onSubmit","searchTerm","view"]),v=y||Tt,O=(!!a||!!c)&&m.length>=o,S=Object.entries(i).reduce(function(e,t){var r=d()(t,2);r[0];return e+r[1].length},0),P=S+s.length;return h&&(e=function(e){h(e,{notifyAutocompleteSelected:t.handleNotifyAutocompleteSelected,completeSuggestion:t.completeSuggestion,autocompleteResults:t.props.autocompleteResults},t.defaultOnSelectAutocomplete)}),v(At({allAutocompletedItemsCount:P,autocompleteView:l,autocompleteResults:a,autocompleteSuggestions:c,autocompletedResults:s,autocompletedSuggestions:i,className:u,autocompletedSuggestionsCount:S,completeSuggestion:this.completeSuggestion,isFocused:r,notifyAutocompleteSelected:this.handleNotifyAutocompleteSelected,onChange:function(e){return t.handleChange(e)},onSelectAutocomplete:e||this.defaultOnSelectAutocomplete,onSubmit:g?function(e){e.preventDefault(),g(m)}:this.handleSubmit,useAutocomplete:O,value:m,inputProps:At({onFocus:this.handleFocus,onBlur:this.handleBlur},p),inputView:f},b))}}]),r}(o.Component);f()(_t,"propTypes",{autocompleteMinimumCharacters:m.a.number,autocompleteResults:m.a.oneOfType([m.a.bool,m.a.shape({clickThroughTags:m.a.arrayOf(m.a.string),linkTarget:m.a.string,sectionTitle:m.a.string,shouldTrackClickThrough:m.a.bool,titleField:m.a.string.isRequired,urlField:m.a.string.isRequired})]),autocompleteSuggestions:m.a.oneOfType([m.a.bool,m.a.exact({sectionTitle:m.a.string}),m.a.objectOf(m.a.exact({sectionTitle:m.a.string}))]),autocompleteView:m.a.func,className:m.a.string,shouldClearFilters:m.a.bool,debounceLength:m.a.number,inputProps:m.a.object,inputView:m.a.func,onSelectAutocomplete:m.a.func,onSubmit:m.a.func,searchAsYouType:m.a.bool,view:m.a.func,autocompletedResults:m.a.arrayOf(Ct).isRequired,autocompletedSuggestions:m.a.objectOf(m.a.arrayOf(Nt)).isRequired,searchTerm:m.a.string.isRequired,setSearchTerm:m.a.func.isRequired,trackAutocompleteClickThrough:m.a.func.isRequired}),f()(_t,"defaultProps",{autocompleteMinimumCharacters:0,shouldClearFilters:!0});var Dt=Be(function(e){return{autocompletedResults:e.autocompletedResults,autocompletedSuggestions:e.autocompletedSuggestions,searchTerm:e.searchTerm,setSearchTerm:e.setSearchTerm,trackAutocompleteClickThrough:e.trackAutocompleteClickThrough}})(_t);function Ft(e){var t=e.children,r=e.className,n=Xe()(e,["children","className"]);return a.a.createElement("ul",Ge()({className:tt("sui-results-container",r)},n),t)}Ft.propTypes={children:$e.a.node.isRequired,className:$e.a.string};var xt=Ft,It=["http:","https:"];function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach(function(t){ut()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mt(e,t,r){if(e[t])return e[t][r]}function Qt(e,t){return Mt(e,t,"raw")}function Vt(e,t){var r,n=function(e,t){return Mt(e,t,"snippet")}(e,t)||((r=Qt(e,t))?String(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"");return Array.isArray(n)?n.join(", "):n}function Bt(e){var t,r,n=e.className,o=e.result,c=e.onClickLink,s=e.titleField,i=e.urlField,u=Xe()(e,["className","result","onClickLink","titleField","urlField"]),l=function(e){return Object.keys(e).reduce(function(t,r){return(n=e[r])&&(n.hasOwnProperty("raw")||n.hasOwnProperty("snippet"))?Lt(Lt({},t),{},ut()({},r,Vt(e,r))):t;var n},{})}(o),p=Vt(o,s),f=(t=URL,r=location,function(e){var n={};try{n=new t(e,r)}catch(o){}return It.includes(n.protocol)?e:""})(Qt(o,i));return a.a.createElement("li",Ge()({className:tt("sui-result",n)},u),a.a.createElement("div",{className:"sui-result__header"},p&&!f&&a.a.createElement("span",{className:"sui-result__title",dangerouslySetInnerHTML:{__html:p}}),p&&f&&a.a.createElement("a",{className:"sui-result__title sui-result__title-link",dangerouslySetInnerHTML:{__html:p},href:"".concat("https://thebook.io","/").concat(f),onClick:c,rel:"noopener noreferrer"}),a.a.createElement("span",{className:"sui-result__book-title"},a.a.createElement("a",{className:"sui-result__book-title-link",href:"".concat("https://thebook.io","/").concat(l.code),rel:"noopener noreferrer"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&rsaquo; ".concat(l.book)}})))),a.a.createElement("div",{className:"sui-result__body"},a.a.createElement("ul",{className:"sui-result__details"},a.a.createElement("li",{key:l.id},a.a.createElement("span",{className:"sui-result__value",dangerouslySetInnerHTML:{__html:l.content}})))))}Bt.propTypes={result:$e.a.object.isRequired,onClickLink:$e.a.func.isRequired,className:$e.a.string,titleField:$e.a.string,urlField:$e.a.string};var Ht=Bt;function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}var Jt=function(e){De()(r,e);var t=zt(r);function r(){var e;Ce()(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),f()(qe()(e),"handleClickLink",function(t){var r=e.props,n=r.clickThroughTags,o=r.shouldTrackClickThrough,a=r.trackClickThrough;o&&a(t,n)}),e}return Ee()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.result,o=t.titleField,a=t.urlField,c=t.view,s=(t.trackClickThrough,t.shouldTrackClickThrough,t.clickThroughTags,Je()(t,["className","result","titleField","urlField","view","trackClickThrough","shouldTrackClickThrough","clickThroughTags"]));return(c||Ht)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:r,result:n,key:"result-".concat(n.id.raw),onClickLink:function(){return e.handleClickLink(n.id.raw)},titleField:o,urlField:a},s))}}]),r}(o.Component);f()(Jt,"propTypes",{className:m.a.string,clickThroughTags:m.a.arrayOf(m.a.string),titleField:m.a.string,urlField:m.a.string,view:m.a.func,result:Ct.isRequired,shouldTrackClickThrough:m.a.bool,trackClickThrough:m.a.func}),f()(Jt,"defaultProps",{clickThroughTags:[],shouldTrackClickThrough:!0});var Yt=Be(function(e){return{trackClickThrough:e.trackClickThrough}})(Jt);function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}function Xt(e,t){if(e[t]&&e[t].raw)return e[t].raw}var Zt=function(e){De()(r,e);var t=Kt(r);function r(){return Ce()(this,r),t.apply(this,arguments)}return Ee()(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.clickThroughTags,n=e.resultView,o=e.results,c=e.shouldTrackClickThrough,s=e.titleField,i=e.urlField,u=e.view,l=Je()(e,["className","clickThroughTags","resultView","results","shouldTrackClickThrough","titleField","urlField","view"]),p=n||Ht;return(u||xt)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:t,children:o.map(function(e){return a.a.createElement(Yt,{key:"result-".concat(Xt(e,"id")),titleField:s,urlField:i,view:p,result:e,shouldTrackClickThrough:c,clickThroughTags:r})})},l))}}]),r}(o.Component);f()(Zt,"propTypes",{className:m.a.string,clickThroughTags:m.a.arrayOf(m.a.string),resultView:m.a.func,titleField:m.a.string,urlField:m.a.string,view:m.a.func,shouldTrackClickThrough:m.a.bool,results:m.a.arrayOf(Ct).isRequired}),f()(Zt,"defaultProps",{clickThroughTags:[],shouldTrackClickThrough:!0});var $t=Be(function(e){return{results:e.results}})(Zt);function er(e){var t=e.className,r=(e.end,e.searchTerm,e.start,e.totalResults,Xe()(e,["className","end","searchTerm","start","totalResults"]));return a.a.createElement("div",Ge()({className:tt("sui-paging-info",t)},r))}er.propTypes={end:$e.a.number.isRequired,searchTerm:$e.a.string.isRequired,start:$e.a.number.isRequired,totalResults:$e.a.number.isRequired,className:$e.a.string};var tr=er;function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}var or=function(e){De()(r,e);var t=nr(r);function r(){return Ce()(this,r),t.apply(this,arguments)}return Ee()(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.pagingStart,n=e.pagingEnd,o=e.resultSearchTerm,a=e.totalResults,c=e.view,s=Je()(e,["className","pagingStart","pagingEnd","resultSearchTerm","totalResults","view"]);return(c||tr)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:t,searchTerm:o,start:r,end:n,totalResults:a},s))}}]),r}(o.Component);f()(or,"propTypes",{className:m.a.string,view:m.a.func,pagingStart:m.a.number.isRequired,pagingEnd:m.a.number.isRequired,resultSearchTerm:m.a.string.isRequired,totalResults:m.a.number.isRequired});var ar=Be(function(e){return{pagingStart:e.pagingStart,pagingEnd:e.pagingEnd,resultSearchTerm:e.resultSearchTerm,totalResults:e.totalResults}})(or),cr=r(109),sr=r.n(cr);var ir=function(e){return{label:e,value:e}};function ur(e){var t=e.className,r=(e.onChange,e.options),n=e.value,o=Xe()(e,["className","onChange","options","value"]);return n&&(ir(n),r.includes(n)||(r=[n].concat(sr()(r)))),a.a.createElement("div",Ge()({className:tt("sui-results-per-page",t)},o),a.a.createElement("div",{className:"sui-results-per-page__label"},""))}ur.propTypes={onChange:$e.a.func.isRequired,options:$e.a.arrayOf($e.a.number).isRequired,className:$e.a.string,value:$e.a.number};var lr=ur;function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ue()(e);if(t){var o=Ue()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xe()(this,r)}}var hr=function(e){De()(r,e);var t=fr(r);function r(){return Ce()(this,r),t.apply(this,arguments)}return Ee()(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.resultsPerPage,n=e.setResultsPerPage,o=e.view,a=e.options,c=Je()(e,["className","resultsPerPage","setResultsPerPage","view","options"]);return(o||lr)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:t,onChange:function(e){n(e)},options:a,value:r},c))}}]),r}(o.Component);f()(hr,"propTypes",{className:m.a.string,view:m.a.func,options:m.a.arrayOf(m.a.number),resultsPerPage:m.a.number.isRequired,setResultsPerPage:m.a.func.isRequired}),f()(hr,"defaultProps",{options:[10,20,50]});var dr=Be(function(e){return{resultsPerPage:e.resultsPerPage,setResultsPerPage:e.setResultsPerPage}})(hr),gr=r(113),mr=r(111),yr=r.n(mr);function br(e){var t=e.className,r=e.current,n=e.resultsPerPage,o=e.onChange,c=e.totalPages,s=Xe()(e,["className","current","resultsPerPage","onChange","totalPages"]);return a.a.createElement(gr.a,Ge()({current:r,onChange:o,pageSize:n,total:c*n,className:tt("sui-paging",t),locale:yr.a},s))}br.propTypes={current:$e.a.number.isRequired,onChange:$e.a.func.isRequired,resultsPerPage:$e.a.number.isRequired,totalPages:$e.a.number.isRequired,className:$e.a.string};var vr=br;function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sr(e){var t=e.className,r=e.current,n=e.resultsPerPage,o=e.setCurrent,a=e.totalPages,c=e.view,s=Je()(e,["className","current","resultsPerPage","setCurrent","totalPages","view"]);return 0===a?null:(c||vr)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach(function(t){f()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:t,current:r,resultsPerPage:n,totalPages:a,onChange:o},s))}Sr.propTypes={className:m.a.string,view:m.a.func,current:m.a.number.isRequired,resultsPerPage:m.a.number.isRequired,totalPages:m.a.number.isRequired,setCurrent:m.a.func.isRequired};var Pr=Be(function(e){return{current:e.current,resultsPerPage:e.resultsPerPage,totalPages:e.totalPages,setCurrent:e.setCurrent}})(Sr),Rr=r(104),jr=r.n(Rr),Tr=r(105),wr=r.n(Tr),kr=r(49),Cr=r.n(kr),Nr=r(106),Er=r.n(Nr),Ar=r(107),qr=r.n(Ar),_r=r(71),Dr=r.n(_r);function Fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Dr()(e);if(t){var o=Dr()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qr()(this,r)}}var xr=function(e){Er()(r,e);var t=Fr(r);function r(e){var n;return jr()(this,r),n=t.call(this,e),ut()(Cr()(n),"toggleSidebar",function(){n.setState(function(e){return{isSidebarToggled:!e.isSidebarToggled}})}),ut()(Cr()(n),"renderToggleButton",function(e){return n.props.children?a.a.createElement("button",{hidden:!0,type:"button",className:"sui-layout-sidebar-toggle",onClick:n.toggleSidebar},e):null}),n.state={isSidebarToggled:!1},n}return wr()(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.children,n=tt(t,this.state.isSidebarToggled?"".concat(t,"--toggled"):null);return a.a.createElement(a.a.Fragment,null,this.renderToggleButton("Show Filters"),a.a.createElement("div",{className:n},this.renderToggleButton("Save Filters"),r))}}]),r}(a.a.Component);ut()(xr,"propTypes",{className:$e.a.string,children:$e.a.node});var Ir=xr;function Ur(e){var t=e.className,r=e.children,n=e.header,o=e.bodyContent,c=e.bodyFooter,s=e.bodyHeader,i=e.sideContent;return a.a.createElement("div",{className:tt("sui-layout",t)},a.a.createElement("div",{className:"sui-layout-header"},a.a.createElement("div",{className:"sui-layout-header__inner"},n)),a.a.createElement("div",{className:"sui-layout-body"},a.a.createElement("div",{className:"sui-layout-body__inner"},a.a.createElement(Ir,{className:"sui-layout-sidebar"},i),a.a.createElement("div",{className:"sui-layout-main"},a.a.createElement("div",{className:"sui-layout-main-header"},a.a.createElement("div",{className:"sui-layout-main-header__inner"},s)),a.a.createElement("div",{className:"sui-layout-main-body"},r||o),a.a.createElement("div",{className:"sui-layout-main-footer"},c)))))}Ur.propTypes={className:$e.a.string,children:$e.a.node,header:$e.a.node,bodyContent:$e.a.node,bodyFooter:$e.a.node,bodyHeader:$e.a.node,sideContent:$e.a.node};var Lr=Ur,Mr=(r(124),r(18)),Qr=r(14),Vr=r(74);function Br(e,t){return"false"===t||"true"===t?Object(Qr.a)({},e,"true"===t):Object(Qr.a)({},"".concat(e,".keyword"),t)}function Hr(e){return"any"===e.type?{bool:{should:[e.values.map(function(t){return{term:Br(e.field,t)}})],minimum_should_match:1}}:"all"===e.type?{bool:{filter:[e.values.map(function(t){return{term:Br(e.field,t)}})]}}:void 0}function Wr(e){return"any"===e.type?{bool:{should:[e.values.map(function(t){return{range:Object(Qr.a)({},e.field,Object(Mr.a)({},t.to&&{lt:t.to},t.to&&{gt:t.from}))}})],minimum_should_match:1}}:"all"===e.type?{bool:{filter:[e.values.map(function(t){return{range:Object(Qr.a)({},e.field,Object(Mr.a)({},t.to&&{lt:t.to},t.to&&{gt:t.from}))}})]}}:void 0}function zr(e){var t=e.current,r=e.filters,n=e.resultsPerPage,o=e.searchTerm,a=function(e,t){if(e&&t)return[Object(Qr.a)({},"".concat(t,".keyword"),e)]}(e.sortDirection,e.sortField),c=function(e){return e?{multi_match:{query:e,fields:["title^3","book^2","content"],type:"phrase",slop:1,operator:"and"}}:{match_all:{}}}(o),s=n,i=function(e,t){if(e&&t)return(e-1)*t}(t,n),u=function(e){if(e&&!((e=e.reduce(function(e,t){return["code"].includes(t.field)?[].concat(Object(Vr.a)(e),[Hr(t)]):["urllength"].includes(t.field)?[].concat(Object(Vr.a)(e),[Wr(t)]):e},[])).length<1))return e}(r);return Object(Mr.a)({highlight:{fragment_size:200,number_of_fragments:1,fields:{title:{},content:{}}},_source:["id","code","book","url","title","content"],query:{bool:Object(Mr.a)({must:[c]},u&&{filter:u})}},a&&{sort:a},s&&{size:s},i&&{from:i})}function Jr(e){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(l.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://thebook.io/api/search/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Gr=r(73);function Kr(e,t){if(e.highlight&&e.highlight[t]&&!(e.highlight[t].length<1))return e.highlight[t][0]}function Xr(e,t){var r=function(e){var t=function(e,t){var r=Object(Gr.a)(t,2),n=r[0],o=r[1];return Object(Mr.a)({},e,Object(Qr.a)({},n,o))};return e.map(function(e){return Object.entries(e._source).map(function(t){var r,n,o=Object(Gr.a)(t,2),a=o[0],c=o[1];return[a,(r=c,n=Kr(e,a),Object(Mr.a)({raw:r},n&&{snippet:n}))]}).reduce(t,{})})}(e.hits.hits),n=e.hits.total.value;return{results:r,totalPages:function(e,t){return e?0===t?1:Math.ceil(t/e):0}(t,n),totalResults:n}}var Zr={debug:!1,hasA11yNotifications:!1,onResultClick:function(){},onAutocompleteResultClick:function(){},onAutocomplete:function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.searchTerm;case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onSearch:function(){var e=Object(l.a)(u.a.mark(function e(t){var r,n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.resultsPerPage,n=zr(t),e.next=4,Jr(n);case 4:return o=e.sent,e.abrupt("return",Xr(o,r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};s.a.render(a.a.createElement(function(){return a.a.createElement(je,{config:Zr},a.a.createElement(We,{mapContextToProps:function(e){return{wasSearched:e.wasSearched}}},function(e){var t=e.wasSearched;return a.a.createElement("div",{className:"App"},a.a.createElement(st,null,a.a.createElement(Lr,{header:a.a.createElement(Dt,{autocompleteMinimumCharacters:3,autocompleteResults:{linkTarget:"_blank",sectionTitle:"Results",titleField:"title",urlField:"url",shouldTrackClickThrough:!0,clickThroughTags:["test"]}}),bodyContent:a.a.createElement($t,{titleField:"title",urlField:"url"}),bodyHeader:a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(ar,null),t&&a.a.createElement(dr,null)),bodyFooter:a.a.createElement(Pr,null)})))}))},null),document.getElementById("search-thebook"))}},[[115,1,2]]]);
